<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/efd33a6a78.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">

        <div id="list-item" class="list-item">
            
        </div>

    <div class="right-container">
        <form action="#" id="main-form">
            <div class="main-form__input">
                <label for="name">Name</label>
                <input type="text" name="name" placeholder="Enter your name" id="name" required/>
            </div>

            <div class="main-form__input">
                <label for="name">Address</label>
                <input type="text" name="address" placeholder="Enter your address" id="address" required/>
            </div>

            
            <div class="main-form__input">
                <label for="">Phone</label>
                <input type="number" placeholder="Enter your Phone" id="phone" required>
            </div>

            <div class="main-form__input">
                <label for="">Email</label>
                <input type="email" placeholder="Enter your Email" id="email" required>
            </div>

            <div class="main-form__input">
                <label for="">Age</label>
                <input type="number" min="18" max="90" placeholder="Enter your age" id="age" required>
            </div>

            <div class="main-form__input">
                <label for="">Which option is your current job?</label>
                <select id="selectOption" name="" class="select-menu" required>
                    <option value="" disabled selected>Select current job</option>
                    <option value="1">Student</option>
                    <option value="2">Software developer</option>
                    <option value="3">Web-fullstack developer</option>
                    <option value="4">Software engineer</option>
                </select>
            </div>

            
                <button type="submit" id="submit" class="submit-button">
                  Submit
                </button>
        </form>
    </div>

</div>



<script>
    'use strict';
    
    const KEY_NAME = "STUDENTS";

    const Student = {
        ListStudent : [],

        add: function(student){
            this.ListStudent.push(student)
        },

        save: function(){
            const jsonData = JSON.stringify(this.ListStudent);
            localStorage.setItem(KEY_NAME, jsonData);
        }

    };

    const formAuto = document.getElementById('main-form');
        formAuto.addEventListener('submit', function(e) {
            e.preventDefault();
        });

    let buttonClicked = document.getElementById("submit");
    buttonClicked.addEventListener("click", renderItem);
  

    function renderItem(e){
        e.preventDefault();
        let name = getInputValue("name");
        let address = getInputValue("address");
        let phone = getInputValue("phone");
        let email = getInputValue("email");
        let age = getInputValue("age");
        let selected = changeSelectedValue(getInputValue("selectOption"));
      
        Student.add(
            {
                name: name,
                address: address,
                phone: phone,
                email: email,
                age: age,
                job: selected
            }
        );

        Student.save();

        let outputJson = localStorage.getItem(KEY_NAME);
        let dataOutput = JSON.parse(outputJson);

        
        
        let listItem = document.getElementById("list-item");
        
        for(let i = 0; i < dataOutput.length; i++){


            var itembox = document.createElement("div");
            itembox.setAttribute("class", "item__box");
            let divItem = document.createElement("div");
            let divIcon = document.createElement("div");
            divItem.setAttribute("class", "item__box--info");
            divIcon.setAttribute("class", "item__box--icon");
            divIcon.innerHTML = '<i id="delete" class="fas fa-trash-alt"></i><i id="edit" class="fas fa-edit"></i>';
            divItem.innerHTML = '<p>Name: '+ dataOutput[i].name +'</p><p>Address : '+ dataOutput[i].address +'</p><p>Phone : '+ dataOutput[i].phone +'</p><p>Email: '+ dataOutput[i].email +'</p><p>Age: '+ dataOutput[i].age +'</p><p>Job : '+ dataOutput[i].job +'</p>';
            itembox.appendChild(divItem);
            itembox.appendChild(divIcon);

        }

        listItem.appendChild(itembox);

        

    }

    
    function getInputValue(elementti){
        let inputValue = document.getElementById(elementti).value;
        return inputValue;
    }
    
    function changeSelectedValue(getValue) {
        switch(getValue){
            case "1":
            return "Students";
            break;

            case "2":
            return "Software Developer";
            break;

            case "3":
            return "Web -fullstack developer";
            break;

            case "4":
            return "Sofware engineer";
            break;
        }
    }
</script>
</body>
</html>